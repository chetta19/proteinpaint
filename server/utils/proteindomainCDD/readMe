===============================
Build a protein domain database
===============================

This is a pipeline for building a database of protein domains for a given species. The species supported by this pipeline are human, mouse, and zebrafish.


The pipeline will perform the following tasks for a given species:

    - Download protein annotations from NCBI
    
    - Extract CDD protein domain annotations from the NCBI annotations
    
    - If the species is human:
        - Merge together the CDD annotations with manually curated domain annotations in "protein_manuallyCurated.json" (for isoforms that have both CDD annotations and manually curated annotations, use manually curated annotations)
        - Only retain isoforms that are present in "ISOLIST"

    - Download protein domain annotations (CDD, PFAM, SMART, and TIGRFAM) from Ensembl

    - Merge together the NCBI and Ensembl domain annotations

    - If the species is human:
        - Add the mitochondrial domains (mt.domain)
        - Add the Znf domains (NM_006060_proteindomain)

    - Assemble all protein domain annotations into a SQL database (proteindomain_<species>.db)


The Python package 'pybiomart' is required for this pipeline. To install 'pybiomart', use the following command:

    pip3 install pybiomart


To run the entire pipeline for a given species, use the following command from the current directory:

    bash make_proteindomain_db.sh <species>


======
Notes
======
1) "mt.domain" was generated by /home/jwang7/Work/PPDATA/MTadd2PPDB.ipynb
2) "NM_006060_proteindomain" is from the Mullighan lab
