<!DOCTYPE html>
<html>
<head>
	 <meta charset="utf-8">
</head>
<body>

<script src="bin/proteinpaint.js" charset="utf-8"></script>

<noscript>This page requires JavaScript. Please enable it in your browser settings.</noscript>

<div id=a style="margin:30px"></div>
<div id=b style="margin:30px"></div>
<div id=c style="margin:30px"></div>

<script>
const dslabel = window.location.hash ? window.location.hash.slice(1) : 'SJLife'

runproteinpaint({
	holder:document.getElementById('a'),
	noheader:1,
	nobox:true,
	termdb:{
		dev:true,
		state:{
			dslabel,
			genome:'hg38',
			tree: {
				exclude_types: ['integer'],
				expandedTermIds: [
					'root',
					'Cancer-related Variables', 'Diagnosis', 'diaggrp',
					//'Genetic Factors', 'Polygenic Risk Scores', 'prs_PGS000001'
				],
				visiblePlotIds: ['diaggrp'],
				plots: {
					diaggrp: {
						term: {
							id: 'diaggrp'
						}
					},
					/*prs_PGS000001: {
						term: {
							id: 'prs_PGS000001'
						},
						settings: {
							currViews: ['barchart']
						}
					}*/
				}
			},
			termfilter: {
				afilter:{
					type:'tvslst',
					join:'',
					in:true,
					lst:[
						{type:'tvs',tvs: {
							term: {id: "aaclassic_5", name: "Cumulative Alkylating Agent (Cyclophosphamide Equivalent Dose)", type:'float',
								"values":{
        					        "0": { "label":"Not exposed", "uncomputable":true },
                					"-8888": { "label":"Exposed but dose unknown", "uncomputable":true },
                					"-9999": { "label":"Unknown treatment record", "uncomputable":true }
        						}
							},
							ranges: [
								{ value: '0', label: "Not exposed"},
								{startunbounded:true,stop:2000,stopinclusive:true}
							]
						}}
					]
				}
			},
			nav: {
				header_mode: 'with_tabs',
				activeTab: 1
			},
			activeCohort:0
		},
		barchart:{
			bar_click_opts:['hide_bar','add_filter','select_to_gp']
		}
	}
})


/*
runproteinpaint({
	holder:document.getElementById('b'),
	noheader:1,
	nobox:true,
	termdb:{
		dev:true,
		state:{
			dslabel,
			genome:'hg38',
			termfilter: {
				filter:{
					type:'tvslst',
					join:'and',
					in:true,
					lst:[
						{type:'tvs',tag:'cohortFilter',
							tvs:{
								term:{id:'subcohort',type:'categorical'},
								values:[
									{key:'SJLIFE',label:'SJLIFE'},
									//{key:'CCSS',label:'CCSS'},
								]
							}
						},
						{type:'tvslst',tag:'filterUiRoot',join:'',in:true,
							lst:[
								{
									type:'tvs',
									tvs: {
										term: {id: "aaclassic_5", name: "Cumulative Alkylating Agent (Cyclophosphamide Equivalent Dose)", type:'float',
											"values":{
												"0": { "label":"Not exposed", "uncomputable":true },
												"-8888": { "label":"Exposed but dose unknown", "uncomputable":true },
												"-9999": { "label":"Unknown treatment record", "uncomputable":true }
											}
										},
										ranges: [
											{ value: '0', label: "Not exposed"},
											{startunbounded:true,stop:2000,stopinclusive:true}
										]
									}
								}
							]
						}
					]
				}
			},
			nav: {
				header_mode: 'with_tabs',
			},
			activeCohort:-1
		}
	}
})

runproteinpaint({
	holder:document.getElementById('c'),
	noheader:1,
	nobox:true,
	termdb:{
		dev:true,
		state:{
			dslabel:'NoCohortSJLife',
			genome:'hg38',
			termfilter: {
				filter:{
					type:'tvslst',
					join:'and',
					in:true,
					lst:[
						{type:'tvs',tag:'cohortFilter',
							tvs:{
								term:{id:'subcohort',type:'categorical'},
								values:[
									//{key:'SJLIFE',label:'SJLIFE'},
									{key:'CCSS',label:'CCSS'},
								]
							}
						},
						{type:'tvslst',tag:'filterUiRoot',join:'',in:true,
							lst:[
								{
									type:'tvs',
									tvs: {
										term: {id: "aaclassic_5", name: "Cumulative Alkylating Agent (Cyclophosphamide Equivalent Dose)", type:'float',
											"values":{
												"0": { "label":"Not exposed", "uncomputable":true },
												"-8888": { "label":"Exposed but dose unknown", "uncomputable":true },
												"-9999": { "label":"Unknown treatment record", "uncomputable":true }
											}
										},
										ranges: [
											{ value: '0', label: "Not exposed"},
											{startunbounded:true,stop:2000,stopinclusive:true}
										]
									}
								}
							]
						}
					]
				}
			},
			nav: {
				header_mode: 'with_tabs',
			},
			activeCohort:-1
		}
	}
})*/
</script>

</body>
</html>
