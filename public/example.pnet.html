<!DOCTYPE html>
<html>
<head>
	 <meta charset="utf-8">
</head>
<body>

<script src="bin/proteinpaint.js" charset="utf-8"></script>

<noscript>This page requires JavaScript. Please enable it in your browser settings.</noscript>

<div id=aaa style="margin:10px"></div>
<div id=exp style="margin:10px"></div>

<script>
function getParams() {
	const params={}
	window.location.search.substr(1).split('#')[0].split("&").forEach(kv=>{
		const [key,value]=kv.split("=")
		params[key]=value
	})
	return params 
}

const params = getParams()

runproteinpaint({
	holder:document.getElementById('aaa'),
	parseurl:true,
	nobox:1,
	noheader:1,
	debug: 1,
	termdb:{
		state: {
			dslabel: 'PNET',
			genome: 'hg19',
			nav: {
				header_mode: 'with_tabs',
				activeTab: 1,
			},
			tree: {
				expandedTermIds: [
					'root',
					'Age',
					'Gender'
				],
				visiblePlotIds: ['Age', 'Gender'],
				plots: {
					Age: {
						term: {
							id: 'Age'
						},
						term2: {
							id: 'Event-free survival'
						},
						settings: {
							currViews: ['barchart'],
							survival: {
								method: 'method' in params ? +params.method : 2
							}
						}
					},
					Gender: {
						term: {
							id: 'Gender'
						},
						settings: {
							//currViews: ['survival']
						}
					}
				}
			},
		},
	}
})

</script>

</body>
</html>
